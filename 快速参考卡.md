# 串口指令快速参考卡

## 🎯 基础设置
- **串口**: 115200, 8N1
- **协议**: AA/BB + 长度 + 类型 + 状态 + 数据 + 校验和
- **校验和**: ~(长度+类型+状态+数据各字节之和) & 0xFF

## 📋 常用命令 (复制粘贴即用)

### 🔍 信息查询命令

**获取系统信息:**
```
AA 00 10 00 EF
```

**获取内存信息:**
```
AA 00 11 00 EE
```

**心跳包:**
```
AA 00 12 00 ED
```

### 🔄 跳转命令

**Bootloader → Application (50ms延迟):**
```
AA 08 13 00 71 32 D0 07 78 56 34 12 56
```

**Application → Bootloader (100ms延迟):**
```
AA 08 13 00 70 64 E8 03 78 56 34 12 11
```

**Bootloader → Application (立即跳转):**
```
AA 08 13 00 71 00 D0 07 78 56 34 12 88
```

### 🧪 测试命令

**无效命令测试:**
```
AA 00 FF 00 00
```

**校验和错误测试:**
```
AA 00 10 00 00
```

## 📊 响应格式

**系统信息响应:** `BB 14 01 00 [20字节] CS`
**内存信息响应:** `BB 18 02 30 [24字节] CS`
**心跳包响应:** `BB 0C 03 01 [12字节] CS`
**跳转确认响应:** `BB 0C 05 52 [12字节] CS`
**错误响应:** `BB 00 04 10 EF` (无效命令)

## 🎨 状态码速查

- **00**: OK
- **01**: READY
- **10**: 无效命令
- **11**: 校验和错误
- **52**: 跳转请求已接收
- **55**: 跳转失败
- **56**: 无效跳转目标
- **70**: Bootloader模式
- **71**: Application模式

## ⚡ 校验和计算器

**Python脚本:**
```python
def calc_checksum(data_bytes):
    return (~sum(data_bytes)) & 0xFF

# 示例: 计算 [0x08, 0x13, 0x00, 0x71, 0x32, 0xD0, 0x07, 0x78, 0x56, 0x34, 0x12]
data = [0x08, 0x13, 0x00, 0x71, 0x32, 0xD0, 0x07, 0x78, 0x56, 0x34, 0x12]
checksum = calc_checksum(data)
print(f"校验和: 0x{checksum:02X}")
```

## 🚀 快速测试流程

1. **发送**: `AA 00 10 00 EF` → 期望收到系统信息
2. **发送**: `AA 00 12 00 ED` → 期望收到心跳响应  
3. **发送**: `AA 08 13 00 71 32 D0 07 78 56 34 12 56` → 期望跳转到App
4. **发送**: `AA 08 13 00 70 64 E8 03 78 56 34 12 11` → 期望跳转到Bootloader

## 📝 十六进制转换

**常用数值:**
- 50ms = 0x32
- 100ms = 0x64
- 1000ms = 0x03E8 (小端: E8 03)
- 2000ms = 0x07D0 (小端: D0 07)
- 魔法字 = 0x12345678 (小端: 78 56 34 12)

---
*保存此文档到桌面，测试时随时查阅！*